<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½åŠ©æ‰‹</title>
    <style>
        /* --- é€šç”¨ä¸å­—ä½“è®¾å®š --- */
        :root {
            --primary-color: #4A89E8;
            --primary-color-light: #e9f2ff;
            --background-color: #f5f7fa;
            --widget-bg-color: #ffffff;
            --text-color-primary: #1a1a1a;
            --text-color-secondary: #5f6368;
            --border-color: #e0e4e8;
            --bot-message-bg: #f8f9fb;
            --user-message-bg: var(--primary-color-light);
            --shadow-color: rgba(0, 0, 0, 0.08);
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background-color: var(--background-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        /* --- ä¸»èŠå¤©çª—å£ --- */
        .chat-widget {
            width: 450px;
            height: 800px;
            max-height: 95vh;
            border-radius: 20px;
            box-shadow: 0 10px 40px var(--shadow-color);
            background-color: var(--widget-bg-color);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        /* --- æ ‡å¤´ --- */
        .chat-header {
            padding: 16px 24px;
            background-color: var(--widget-bg-color);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }
        .header-title-container {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .header-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #6B73FF, #4F5BFF);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: 700;
            color: white;
            font-size: 20px;
        }
        .header-title h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
            color: var(--text-color-primary);
        }
        .header-actions {
            display: flex;
            gap: 16px;
        }
        .header-actions svg {
            width: 22px;
            height: 22px;
            cursor: pointer;
            color: var(--text-color-secondary);
            transition: color 0.2s, transform 0.2s;
        }
        .header-actions svg:hover {
            color: var(--primary-color);
            transform: scale(1.1);
        }
        /* --- èŠå¤©ä¸»ä½“ --- */
        .chat-body {
            flex-grow: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            padding: 10px;
            gap: 0x;
        }
        .chat-body::-webkit-scrollbar {
            width: 6px;
        }
        .chat-body::-webkit-scrollbar-track {
            background: transparent;
        }
        .chat-body::-webkit-scrollbar-thumb {
            background: #d0d4d8;
            border-radius: 3px;
        }
        .chat-body::-webkit-scrollbar-thumb:hover {
            background: #b0b4b8;
        }
        /* --- çŒœä½ æƒ³é—® & åç»­é—®é¢˜é€šç”¨æ ·å¼ --- */
        .question-list-container {
            /* å‡å°å†…è¾¹è· */
            padding: 8px; 
            animation: fadeIn 0.5s ease;
            background-color: #ffffff;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            box-shadow: 0 2px 6px var(--shadow-color);
            /* æ·»åŠ  margin ä»¥ç¼©å°åŒºåŸŸ */
            margin: 0 16px; 
        }
        .question-list-title {
            color: var(--text-color-secondary);
            font-size: 13px;
            margin-bottom: 8px;
            text-align: center;
            font-weight: 500;
            padding-bottom: 6px;
            border-bottom: 1px solid var(--border-color);
        }
        .question-item {
            display: flex;
            align-items: center;
            padding: 8px 12px; /* è°ƒæ•´å†…è¾¹è· */
            margin-bottom: 4px; /* è°ƒæ•´é—´è· */
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
            font-size: 14px; /* è°ƒæ•´å­—ä½“å¤§å° */
            color: var(--text-color-primary);
            background-color: #f9fafc;
            border: 1px solid transparent;
        }
        .question-item:last-child {
            margin-bottom: 0;
        }
        .question-item:hover {
            background-color: #f1f3f5;
            transform: translateY(-1px);
            border-color: var(--border-color);
        }
        .question-item-icon {
            width: 6px; /* å‡å°å›¾æ ‡å¤§å° */
            height: 6px;
            background-color: #ffe5e7;
            border: 1px solid #e57373;
            border-radius: 50%;
            margin-right: 10px; /* è°ƒæ•´é—´è· */
            flex-shrink: 0;
        }
        .refresh-button {
            display: flex;
            align-items: center;
            gap: 6px;
            margin: 8px auto 0; /* è°ƒæ•´å¤–è¾¹è· */
            padding: 6px 12px; /* è°ƒæ•´å†…è¾¹è· */
            background-color: #f5f6f8;
            border: none;
            border-radius: 16px;
            color: var(--text-color-secondary);
            font-size: 13px;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s, transform 0.2s;
        }
        .refresh-button:hover {
            background-color: #e8e9ec;
            color: var(--text-color-primary);
            transform: scale(1.05);
        }
        /* --- åç»­é—®é¢˜ç‰¹å®šæ ·å¼ --- */
        .follow-up-questions {
            margin-top: 12px; /* è°ƒæ•´ä¸Šå¤–è¾¹è· */
            animation: fadeIn 0.5s ease;
        }
        .follow-up-questions .question-item {
            color: var(--primary-color);
            padding: 8px 12px; /* è°ƒæ•´å†…è¾¹è· */
            background-color: var(--primary-color-light);
            border: 1px solid #d0e3ff;
        }
        .follow-up-questions .question-item:hover {
            background-color: #e2eeff;
            text-decoration: none;
            transform: translateY(-1px);
        }
        /* --- æ¶ˆæ¯æ°”æ³¡ --- */
        .message {
            display: flex;
            margin-bottom: 16px;
            /* å‡å°æœ€å¤§å®½åº¦ */
            max-width: 80%;
            animation: fadeInUp 0.5s ease;
        }
        .message-container {
            display: flex;
            flex-direction: column;
        }
        .message-content {
            padding: 14px 18px;
            border-radius: 16px;
            font-size: 15px;
            line-height: 1.6;
            word-wrap: break-word;
            box-shadow: 0 2px 8px var(--shadow-color);
        }
        .message-actions {
            margin-top: 8px;
            display: flex;
            gap: 14px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .message:hover .message-actions {
            opacity: 1;
        }
        .message-actions .action-btn {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-color-secondary);
            font-size: 16px;
            transition: color 0.2s;
        }
        .message-actions .action-btn:hover {
            color: var(--primary-color);
        }
        /* æœºå™¨äººæ¶ˆæ¯ */
        .bot-message {
            align-self: flex-start;
            gap: 12px;
        }
        .bot-message .message-container {
            align-items: flex-start;
            position: relative;
        }
        .bot-message .message-content {
            background-color: var(--bot-message-bg);
            border-top-left-radius: 4px;
            border: 1px solid var(--border-color);
        }
        .bot-message .avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #6B73FF, #4F5BFF);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: 700;
            color: white;
            font-size: 20px;
            flex-shrink: 0;
        }
        /* ç”¨æˆ·æ¶ˆæ¯ */
        .user-message {
            align-self: flex-end;
        }
        .user-message .message-container {
            align-items: flex-end;
        }
        .user-message .message-content {
            background-color: var(--user-message-bg);
            color: #1a2a44;
            border-top-right-radius: 4px;
        }
        /* é‡æ–°ç”Ÿæˆåˆ‡æ¢åŠŸèƒ½æ ·å¼ */
        .bot-message .message-content-wrapper {
            position: relative;
        }
        .response-version {
            padding: 14px 18px;
            border-radius: 16px;
            font-size: 15px;
            line-height: 1.6;
            word-wrap: break-word;
            box-shadow: 0 2px 8px var(--shadow-color);
            background-color: var(--bot-message-bg);
            border-top-left-radius: 4px;
            border: 1px solid var(--border-color);
        }
        /* æ–°çš„è§’æ ‡æ ·å¼ */
        .version-indicator {
            position: absolute;
            bottom: -5px;
            right: 0px;
            display: flex;
            align-items: center;
            gap: 4px;
            background-color: #fafafa;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 4px 8px;
            font-size: 12px;
            cursor: pointer;
            user-select: none;
            box-shadow: 0 2px 4px var(--shadow-color);
            transition: transform 0.2s ease, background-color 0.2s;
        }
        .version-indicator:hover {
            transform: translateY(-1px);
            background-color: #f1f3f5;
        }
        .version-indicator .version-nav {
            font-weight: bold;
            color: var(--text-color-secondary);
            font-size: 14px;
        }
        .version-indicator .version-nav:hover {
            color: var(--primary-color);
        }
        .version-indicator .version-text {
            color: var(--text-color-primary);
            font-weight: 500;
        }
        /* --- è¾“å…¥åŒº --- */
        .chat-input-area {
            border-top: 1px solid var(--border-color);
            padding: 10px 24px;
            background-color: var(--widget-bg-color);
            flex-shrink: 0;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.03);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .input-wrapper {
            /* è°ƒæ•´ä¸ºå±…ä¸­å¯¹é½ï¼Œå¹¶è®¾ç½®ä¸€ä¸ªå›ºå®šçš„æœ€å¤§å®½åº¦ */
            width: 90%; 
            max-width: 400px;
            margin: 0 auto;
            height: 48px;
            display: flex;
            align-items: center;
            background-color: #f5f6f8;
            border-radius: 24px;
            padding: 0 16px;
            gap: 12px;
            border: 2px solid transparent;
            transition: all 0.2s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        .input-wrapper:focus-within {
            border-color: var(--primary-color);
            background-color: #fff;
            box-shadow: 0 0 0 3px rgba(74, 137, 232, 0.2);
        }
        .input-actions {
            display: flex;
        }
        .input-actions .action-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background-color 0.2s;
        }
        .input-actions .action-btn:hover {
            background-color: #e8e9ec;
        }
        .input-actions .action-btn svg {
            width: 24px;
            height: 24px;
            color: var(--text-color-secondary);
            transition: color 0.2s;
        }
        .input-actions .action-btn:hover svg {
            color: var(--primary-color);
        }
        .chat-input {
            flex-grow: 1;
            border: none;
            background: transparent;
            padding: 0;
            font-size: 15px;
            color: var(--text-color-primary);
            resize: none;
            height: auto;
            max-height: 120px;
            line-height: 48px;
        }
        .chat-input:focus {
            outline: none;
        }
        .send-button {
            background-color: var(--primary-color);
            border-radius: 50%;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 10px rgba(74, 137, 232, 0.3);
        }
        .send-button:hover {
            transform: scale(1.05);
            background-color: #3a79d8;
            box-shadow: 0 6px 14px rgba(74, 137, 232, 0.4);
        }
        .send-button svg {
            color: white;
            width: 22px;
            height: 22px;
        }
        .disclaimer {
            font-size: 11px;
            color: #b0b4b8;
            text-align: center;
            margin-top: 10px;
            margin-bottom: 0px;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(12px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="chat-widget">
        <header class="chat-header">
            <div class="header-title-container">
                <div class="header-icon">æ™º</div>
                <div class="header-title"><h3>æ™ºèƒ½åŠ©æ‰‹</h3></div>
            </div>
            <div class="header-actions">
                <svg title="å…¨å±" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M4 8V4h4V2H2v6h2zm16 0V4h-4V2h6v6h-2zM4 20v-4H2v6h6v-2H4zm16 0v-4h-2v4h-4v2h6v-2z"></path></svg>
                <svg title="å¼€å¯æ–°å¯¹è¯" id="new-chat-btn" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>
                <svg title="å…³é—­" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z"></path></svg>
            </div>
        </header>
        <div class="chat-body" id="chat-body">
            <div class="message bot-message" id="initial-welcome">
                <div class="avatar">æ™º</div>
                <div class="message-container"><div class="message-content">æ‚¨å¥½ï¼Œæˆ‘æ˜¯æ‚¨çš„äººåŠ›èµ„æºåŠ©æ‰‹ï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨è§£ç­”äººåŠ›èµ„æºç›¸å…³é—®é¢˜</div></div>
            </div>
            <div class="question-list-container" id="guess-section">
                <div class="question-list-title">â€”â€”â€”â€” çŒœä½ æƒ³é—® â€”â€”â€”â€”</div>
                <div id="guess-list"></div>
                <button class="refresh-button" id="refresh-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 4v6h-6"/><path d="M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L20.5 10a5 5 0 0 0-7.85 6.36L10.5 17"/></svg>
                    <span>æ¢ä¸€æ¢</span>
                </button>
            </div>
        </div>
        <footer class="chat-input-area">
            <div class="input-wrapper">
                <div class="input-actions">
                    <button class="action-btn" title="è¯­éŸ³è¾“å…¥" id="voice-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path></svg>
                    </button>
                    <button class="action-btn" title="ä¸Šä¼ é™„ä»¶" id="attachment-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"></path></svg>
                    </button>
                </div>
                <textarea id="chat-input" class="chat-input" placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜..." rows="1"></textarea>
                <button class="send-button" id="send-button" title="å‘é€">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2.01 21L23 12L2.01 3L2 10l15 2l-15 2z"></path></svg>
                </button>
            </div>
            <p class="disclaimer">éƒ¨åˆ†å†…å®¹ç”±AIå¤§æ¨¡å‹æ™ºèƒ½ç”Ÿæˆï¼Œä¸ä»£è¡¨å‚å•†çš„è§‚ç‚¹</p>
        </footer>
    </div>
    <script>
        let chatBody = document.getElementById('chat-body');
        let chatInput = document.getElementById('chat-input');
        let sendButton = document.getElementById('send-button');
        let guessSection = document.getElementById('guess-section');
        let guessList = document.getElementById('guess-list');
        let refreshButton = document.getElementById('refresh-button');
        let initialWelcome = document.getElementById('initial-welcome');
        const voiceBtn = document.getElementById('voice-btn');
        const attachmentBtn = document.getElementById('attachment-btn');
        const newChatBtn = document.getElementById('new-chat-btn');
        // é—®é¢˜åº“ - äººåŠ›èµ„æºç›¸å…³
        const allQuestions = [
            'å…¬å¸çš„è¯·å‡åˆ¶åº¦æ˜¯æ€æ ·çš„ï¼Ÿ', 'è–ªé…¬ç»“æ„åŒ…æ‹¬å“ªäº›éƒ¨åˆ†ï¼Ÿ', 'å·®æ—…è´¹æŠ¥é”€æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿ',
            'å‘˜å·¥æ™‹å‡åˆ¶åº¦æœ‰å“ªäº›è¦æ±‚ï¼Ÿ', 'ç¤¾ä¼šä¿é™©ç¼´çº³æ¯”ä¾‹æ˜¯å¤šå°‘ï¼Ÿ', 'åŠ ç­è¡¥è´´å¦‚ä½•è®¡ç®—ï¼Ÿ',
            'æ–°å‘˜å·¥å…¥èŒæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ', 'å¹´å‡å¤©æ•°å¦‚ä½•è®¡ç®—ï¼Ÿ', 'ç»©æ•ˆè€ƒæ ¸å‘¨æœŸæ˜¯å¤šä¹…ï¼Ÿ',
            'å‘˜å·¥åŸ¹è®­æœºä¼šæœ‰å“ªäº›ï¼Ÿ', 'è€ƒå‹¤ç®¡ç†åˆ¶åº¦å…·ä½“è§„å®šï¼Ÿ', 'ç¦åˆ©åˆ¶åº¦åŒ…å«å“ªäº›å†…å®¹ï¼Ÿ'
        ];
        // æ¨¡æ‹Ÿå›å¤ - äººåŠ›èµ„æºç›¸å…³
        const botResponses = {
            "å…¬å¸çš„è¯·å‡åˆ¶åº¦æ˜¯æ€æ ·çš„ï¼Ÿ": "å…¬å¸è¯·å‡åˆ¶åº¦è§„å®šï¼šå‘˜å·¥è¯·å‡éœ€æå‰æäº¤ç”³è¯·ï¼Œäº‹å‡éœ€è‡³å°‘æå‰1ä¸ªå·¥ä½œæ—¥ï¼Œç—…å‡éœ€æä¾›æ­£è§„åŒ»ç–—æœºæ„è¯æ˜ã€‚äº‹å‡æ‰£é™¤å½“æ—¥å·¥èµ„ï¼Œç—…å‡åœ¨åŒ»ç–—æœŸå†…å‘æ”¾åŸºæœ¬å·¥èµ„çš„80%ã€‚å¹´å‡ã€å©šå‡ã€äº§å‡ç­‰æŒ‰å›½å®¶è§„å®šæ‰§è¡Œã€‚",
            "è–ªé…¬ç»“æ„åŒ…æ‹¬å“ªäº›éƒ¨åˆ†ï¼Ÿ": "å…¬å¸è–ªé…¬ç»“æ„ä¸»è¦åŒ…æ‹¬ï¼šåŸºæœ¬å·¥èµ„ã€ç»©æ•ˆå¥–é‡‘ã€å²—ä½æ´¥è´´ã€äº¤é€šè¡¥è´´ã€é¤é¥®è¡¥è´´ã€å¹´ç»ˆå¥–ç­‰ã€‚å…¶ä¸­åŸºæœ¬å·¥èµ„å æ¯”60%-70%ï¼Œç»©æ•ˆå¥–é‡‘æ ¹æ®ä¸ªäººå’Œå›¢é˜Ÿä¸šç»©è€ƒæ ¸å‘æ”¾ã€‚",
            "å·®æ—…è´¹æŠ¥é”€æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿ": "å·®æ—…è´¹æŠ¥é”€æ ‡å‡†å¦‚ä¸‹ï¼šä¸€çº¿åŸå¸‚ï¼ˆå¦‚åŒ—äº¬ã€ä¸Šæµ·ï¼‰ä½å®¿æ ‡å‡†ä¸º400å…ƒ/å¤©ï¼ŒäºŒçº¿åŸå¸‚300å…ƒ/å¤©ï¼Œä¸‰çº¿åŸå¸‚200å…ƒ/å¤©ï¼›äº¤é€šæ–¹é¢ï¼Œé«˜é“äºŒç­‰åº§ã€é£æœºç»æµèˆ±å¯æŠ¥é”€ï¼Œå¸‚å†…äº¤é€šæ¯æ—¥é™é¢80å…ƒã€‚",
            "å‘˜å·¥æ™‹å‡åˆ¶åº¦æœ‰å“ªäº›è¦æ±‚ï¼Ÿ": "å‘˜å·¥æ™‹å‡éœ€æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼šåœ¨ç°å²—ä½å·¥ä½œæ»¡1å¹´ä»¥ä¸Šï¼Œå¹´åº¦ç»©æ•ˆè€ƒæ ¸ç­‰çº§ä¸ºä¼˜ç§€æˆ–è¿ç»­ä¸¤å¹´è‰¯å¥½ï¼›å…·å¤‡æ‹Ÿæ™‹å‡å²—ä½æ‰€éœ€çš„ä¸“ä¸šçŸ¥è¯†å’ŒæŠ€èƒ½ï¼›é€šè¿‡æ™‹å‡è¯„å®¡å°ç»„çš„é¢è¯•å’Œè¯„ä¼°ã€‚",
            "ç¤¾ä¼šä¿é™©ç¼´çº³æ¯”ä¾‹æ˜¯å¤šå°‘ï¼Ÿ": "å…¬å¸æŒ‰ç…§å›½å®¶è§„å®šä¸ºå‘˜å·¥ç¼´çº³äº”é™©ä¸€é‡‘ï¼Œå…·ä½“æ¯”ä¾‹ä¸ºï¼šå…»è€ä¿é™©å•ä½ç¼´çº³16%ï¼Œä¸ªäºº8%ï¼›åŒ»ç–—ä¿é™©å•ä½ç¼´çº³10%ï¼Œä¸ªäºº2%ï¼›å¤±ä¸šä¿é™©å•ä½ç¼´çº³0.5%ï¼Œä¸ªäºº0.5%ï¼›å·¥ä¼¤ä¿é™©å•ä½ç¼´çº³0.2%-1.9%ï¼ˆæ ¹æ®è¡Œä¸šé£é™©ï¼‰ï¼›ç”Ÿè‚²ä¿é™©å•ä½ç¼´çº³0.8%ï¼›ä½æˆ¿å…¬ç§¯é‡‘å•ä½å’Œä¸ªäººå„ç¼´çº³12%ã€‚",
            "åŠ ç­è¡¥è´´å¦‚ä½•è®¡ç®—ï¼Ÿ": "å¹³æ—¥åŠ ç­æŒ‰åŸºæœ¬å·¥èµ„çš„150%è®¡ç®—ï¼Œå‘¨æœ«åŠ ç­æŒ‰200%è®¡ç®—ï¼Œæ³•å®šèŠ‚å‡æ—¥åŠ ç­æŒ‰300%è®¡ç®—ã€‚åŠ ç­éœ€æå‰ç”³è¯·å¹¶ç»éƒ¨é—¨ä¸»ç®¡æ‰¹å‡†ï¼Œå¦åˆ™ä¸äºˆè®¡ç®—åŠ ç­è´¹ã€‚",
            "æ–°å‘˜å·¥å…¥èŒæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ": "æ–°å‘˜å·¥å…¥èŒæµç¨‹åŒ…æ‹¬ï¼šå…¥èŒå‰å‡†å¤‡ï¼ˆæäº¤å…¥èŒææ–™ã€ç­¾ç½²åŠ³åŠ¨åˆåŒï¼‰ã€å…¥èŒå½“å¤©ï¼ˆåŠç†å…¥èŒæ‰‹ç»­ã€é¢†å–åŠå…¬ç”¨å“ã€å½•å…¥ç³»ç»Ÿï¼‰ã€å…¥èŒåŸ¹è®­ï¼ˆå…¬å¸åˆ¶åº¦ã€å²—ä½èŒè´£ã€å®‰å…¨åŸ¹è®­ç­‰ï¼‰ã€è¯•ç”¨æœŸè€ƒæ ¸ï¼ˆ3ä¸ªæœˆè¯•ç”¨æœŸï¼ŒæœŸæ»¡åˆæ ¼åæ­£å¼å½•ç”¨ï¼‰ã€‚",
            "å¹´å‡å¤©æ•°å¦‚ä½•è®¡ç®—ï¼Ÿ": "å‘˜å·¥ç´¯è®¡å·¥ä½œå·²æ»¡1å¹´ä¸æ»¡10å¹´çš„ï¼Œå¹´ä¼‘å‡5å¤©ï¼›å·²æ»¡10å¹´ä¸æ»¡20å¹´çš„ï¼Œå¹´ä¼‘å‡10å¤©ï¼›å·²æ»¡20å¹´çš„ï¼Œå¹´ä¼‘å‡15å¤©ã€‚å›½å®¶æ³•å®šä¼‘å‡æ—¥ã€ä¼‘æ¯æ—¥ä¸è®¡å…¥å¹´ä¼‘å‡çš„å‡æœŸã€‚å¹´å‡å¯åœ¨å½“å¹´å†…ä¸€æ¬¡æ€§æˆ–åˆ†æ®µä½¿ç”¨ï¼Œéœ€æå‰ç”³è¯·ã€‚",
            "ç»©æ•ˆè€ƒæ ¸å‘¨æœŸæ˜¯å¤šä¹…ï¼Ÿ": "å…¬å¸å®è¡Œå­£åº¦è€ƒæ ¸ä¸å¹´åº¦è€ƒæ ¸ç›¸ç»“åˆçš„æ–¹å¼ã€‚å­£åº¦è€ƒæ ¸ä¸»è¦è¯„ä¼°å·¥ä½œä»»åŠ¡å®Œæˆæƒ…å†µï¼Œå å¹´åº¦è€ƒæ ¸æƒé‡çš„60%ï¼›å¹´åº¦è€ƒæ ¸ç»¼åˆè¯„ä¼°å…¨å¹´å·¥ä½œè¡¨ç°ã€èƒ½åŠ›å‘å±•ç­‰ï¼Œå æƒé‡çš„40%ã€‚è€ƒæ ¸ç»“æœä¸ç»©æ•ˆå¥–é‡‘ã€æ™‹å‡ç­‰æŒ‚é’©ã€‚",
            "å‘˜å·¥åŸ¹è®­æœºä¼šæœ‰å“ªäº›ï¼Ÿ": "å…¬å¸ä¸ºå‘˜å·¥æä¾›å¤šæ ·åŒ–çš„åŸ¹è®­æœºä¼šï¼ŒåŒ…æ‹¬ï¼šæ–°å‘˜å·¥å…¥èŒåŸ¹è®­ã€å²—ä½æŠ€èƒ½åŸ¹è®­ã€ç®¡ç†èƒ½åŠ›åŸ¹è®­ã€èŒä¸šå‘å±•åŸ¹è®­ç­‰ã€‚æ­¤å¤–ï¼Œå…¬å¸è¿˜æ”¯æŒå‘˜å·¥å‚åŠ å¤–éƒ¨åŸ¹è®­è¯¾ç¨‹ã€è¡Œä¸šç ”è®¨ä¼šç­‰ï¼Œå¹¶æä¾›ä¸€å®šçš„åŸ¹è®­è¡¥è´´ã€‚",
            "è€ƒå‹¤ç®¡ç†åˆ¶åº¦å…·ä½“è§„å®šï¼Ÿ": "å…¬å¸å®è¡ŒæŒ‡çº¹/äººè„¸è¯†åˆ«è€ƒå‹¤ï¼Œå·¥ä½œæ—¥ä¸Šç­æ—¶é—´ä¸º9:00-18:00ï¼Œä¸­åˆä¼‘æ¯1å°æ—¶ï¼ˆ12:00-13:00ï¼‰ã€‚è¿Ÿåˆ°/æ—©é€€30åˆ†é’Ÿä»¥å†…æ‰£åŠå¤©å·¥èµ„ï¼Œè¶…è¿‡30åˆ†é’ŸæŒ‰æ—·å·¥åŠå¤©å¤„ç†ã€‚æœˆç´¯è®¡è¿Ÿåˆ°/æ—©é€€3æ¬¡ä»¥ä¸Šï¼Œå–æ¶ˆå½“æœˆå…¨å‹¤å¥–ã€‚",
            "ç¦åˆ©åˆ¶åº¦åŒ…å«å“ªäº›å†…å®¹ï¼Ÿ": "å…¬å¸ç¦åˆ©åˆ¶åº¦åŒ…å«ï¼šäº”é™©ä¸€é‡‘ã€å¹´ç»ˆå¥–é‡‘ã€èŠ‚æ—¥ç¦åˆ©ã€ç”Ÿæ—¥ç¤¼å“ã€å¸¦è–ªå¹´å‡ã€å‘˜å·¥ä½“æ£€ã€å›¢å»ºæ´»åŠ¨ã€é¤é¥®è¡¥è´´ã€äº¤é€šè¡¥è´´ã€é€šè®¯è¡¥è´´ã€å‘˜å·¥åŸ¹è®­ç­‰ã€‚æ­¤å¤–ï¼Œå…¬å¸è¿˜æä¾›ä¸‹åˆèŒ¶ã€å¥èº«æˆ¿ç­‰ç¦åˆ©è®¾æ–½ã€‚",
            "default": "æ„Ÿè°¢æ‚¨çš„æé—®ï¼å…³äºäººåŠ›èµ„æºçš„é—®é¢˜ï¼Œæˆ‘å¯ä»¥ä¸ºæ‚¨è§£ç­”è¯·å‡åˆ¶åº¦ã€è–ªé…¬ç»“æ„ã€å·®æ—…è´¹æŠ¥é”€ã€æ™‹å‡åˆ¶åº¦ç­‰æ–¹é¢çš„å†…å®¹ã€‚è¯·å…·ä½“è¯´æ˜æ‚¨æƒ³äº†è§£çš„é—®é¢˜ï¼Œæˆ‘ä¼šä¸ºæ‚¨è¯¦ç»†è§£ç­”ã€‚"
        };
        // --- äº‹ä»¶ç›‘å¬ ---
        sendButton.addEventListener('click', sendMessage);
        chatInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });
        // ç¡®ä¿åˆ·æ–°æŒ‰é’®åœ¨åˆå§‹åŠ è½½æ—¶ç»‘å®š
        window.addEventListener('load', () => {
            displayInitialQuestions();
            refreshButton.addEventListener('click', displayInitialQuestions);
        });
        voiceBtn.addEventListener('click', () => alert('è¯­éŸ³è¾“å…¥åŠŸèƒ½å¾…å®ç°'));
        attachmentBtn.addEventListener('click', () => alert('é™„ä»¶ä¸Šä¼ åŠŸèƒ½å¾…å®ç°'));
        newChatBtn.addEventListener('click', startNewChat);
        // --- æ ¸å¿ƒåŠŸèƒ½ ---
        function scrollToBottom() {
            chatBody.scrollTop = chatBody.scrollHeight;
        }
        function selectQuestion(questionText) {
            chatInput.value = questionText;
            sendMessage();
        }
        function sendMessage() {
            const userText = chatInput.value.trim();
            if (userText === '') return;
            removeFollowUpQuestions();
            if (guessSection.style.display !== 'none') {
                guessSection.style.display = 'none';
                initialWelcome.style.display = 'none';
            }
            appendMessage('user', userText);
            chatInput.value = '';
            autoResize(chatInput);
            setTimeout(() => {
                const botResponse = getBotResponse(userText);
                appendBotMessageWithVersions(botResponse, userText);
                setTimeout(showFollowUpQuestions, 1500);
            }, 800);
        }
        function getBotResponse(userText) {
            // ç›´æ¥åŒ¹é…åŸå§‹é—®é¢˜æ–‡æœ¬
            let response = botResponses[userText] || botResponses.default;
            return response;
        }
        function appendBotMessageWithVersions(text, originalQuestion = null) {
            const messageEl = document.createElement('div');
            messageEl.className = `message bot-message`;
            messageEl.innerHTML = `
                <div class="avatar">æ™º</div>
                <div class="message-container">
                    <div class="message-content-wrapper">
                        <div class="response-version" data-version="1">${text}</div>
                    </div>
                    <div class="message-actions">
                        <button class="action-btn" title="èµ">ğŸ‘</button>
                        <button class="action-btn" title="å€’èµ">ğŸ‘</button>
                        <button class="action-btn regenerate-btn" title="é‡æ–°ç”Ÿæˆ" ${originalQuestion ? `data-question="${originalQuestion}"` : ''}>ğŸ”„</button>
                    </div>
                </div>
            `;
            chatBody.appendChild(messageEl);
            
            const regenerateBtn = messageEl.querySelector('.regenerate-btn');
            regenerateBtn.addEventListener('click', () => {
                const q = regenerateBtn.getAttribute('data-question');
                if (q) {
                    regenerateResponse(messageEl, q);
                }
            });
            scrollToBottom();
        }
        function regenerateResponse(messageEl, originalQuestion) {
            const responseWrapper = messageEl.querySelector('.message-content-wrapper');
            const newResponse = getBotResponse(originalQuestion) + ` (æ–°ç”Ÿæˆ)`;
            const newResponseEl = document.createElement('div');
            newResponseEl.className = 'response-version';
            newResponseEl.style.display = 'none'; // æ–°ç‰ˆæœ¬é»˜è®¤éšè—
            newResponseEl.textContent = newResponse;
            responseWrapper.appendChild(newResponseEl);
            
            const versions = responseWrapper.querySelectorAll('.response-version');
            versions.forEach(v => v.style.display = 'none');
            newResponseEl.style.display = 'block';
            
            updateVersionIndicator(messageEl, versions.length, versions.length);
            scrollToBottom();
        }
        function updateVersionIndicator(messageEl, currentVersionIndex, totalVersions) {
            const responseWrapper = messageEl.querySelector('.message-content-wrapper');
            let indicator = messageEl.querySelector('.version-indicator');
            
            if (totalVersions > 1) {
                if (!indicator) {
                    indicator = document.createElement('div');
                    indicator.className = 'version-indicator';
                    indicator.innerHTML = `
                        <span class="version-nav prev-version"><</span>
                        <span class="version-text">1/${totalVersions}</span>
                        <span class="version-nav next-version">></span>
                    `;
                    responseWrapper.appendChild(indicator);
                }
                const versionText = indicator.querySelector('.version-text');
                versionText.textContent = `${currentVersionIndex}/${totalVersions}`;
                
                const versions = responseWrapper.querySelectorAll('.response-version');
                const prevBtn = indicator.querySelector('.prev-version');
                const nextBtn = indicator.querySelector('.next-version');
                
                prevBtn.onclick = () => {
                    let newIndex = (currentVersionIndex - 2 + totalVersions) % totalVersions;
                    versions.forEach(v => v.style.display = 'none');
                    versions[newIndex].style.display = 'block';
                    updateVersionIndicator(messageEl, newIndex + 1, totalVersions);
                };
                nextBtn.onclick = () => {
                    let newIndex = currentVersionIndex % totalVersions;
                    versions.forEach(v => v.style.display = 'none');
                    versions[newIndex].style.display = 'block';
                    updateVersionIndicator(messageEl, newIndex + 1, totalVersions);
                };
            } else if (indicator) {
                indicator.remove();
            }
        }
        function appendMessage(sender, text) {
            const messageEl = document.createElement('div');
            messageEl.className = `message ${sender}-message`;
            let contentHTML = '';
            if (sender === 'bot') {
                contentHTML = `<div class="avatar">æ™º</div><div class="message-container"><div class="message-content">${text}</div></div>`;
            } else {
                contentHTML = `<div class="message-container"><div class="message-content">${text}</div></div>`;
            }
            messageEl.innerHTML = contentHTML;
            chatBody.appendChild(messageEl);
            scrollToBottom();
        }
        function displayInitialQuestions() {
            guessList.innerHTML = '';
            const shuffled = allQuestions.sort(() => 0.5 - Math.random());
            const selectedQuestions = shuffled.slice(0, 4);
            selectedQuestions.forEach(q => {
                const questionEl = document.createElement('div');
                questionEl.className = 'question-item';
                questionEl.onclick = () => selectQuestion(q);
                questionEl.innerHTML = `<div class="question-item-icon"></div><span>${q}</span>`;
                guessList.appendChild(questionEl);
            });
            // ç¡®ä¿åˆ·æ–°æŒ‰é’®é‡æ–°ç»‘å®šäº‹ä»¶
            document.getElementById('refresh-button').addEventListener('click', displayInitialQuestions);
        }
        function showFollowUpQuestions() {
            removeFollowUpQuestions();
            const followUpContainer = document.createElement('div');
            followUpContainer.className = 'follow-up-questions question-list-container';
            followUpContainer.innerHTML = `<div class="question-list-title">æ‚¨å¯ä»¥ç»§ç»­é—®æˆ‘</div>`;
            const shuffled = allQuestions.sort(() => 0.5 - Math.random());
            const selectedQuestions = shuffled.slice(0, 3);
            selectedQuestions.forEach(q => {
                const questionEl = document.createElement('div');
                questionEl.className = 'question-item';
                questionEl.onclick = () => selectQuestion(q);
                questionEl.innerHTML = `<span>${q}</span>`;
                followUpContainer.appendChild(questionEl);
            });
            chatBody.appendChild(followUpContainer);
            scrollToBottom();
        }
        function removeFollowUpQuestions() {
            const existingFollowUp = chatBody.querySelector('.follow-up-questions');
            if (existingFollowUp) existingFollowUp.remove();
        }
        function startNewChat() {
            chatBody.innerHTML = `
                <div class="message bot-message" id="initial-welcome">
                    <div class="avatar">æ™º</div>
                    <div class="message-container"><div class="message-content">æ‚¨å¥½ï¼Œæˆ‘æ˜¯æ‚¨çš„äººåŠ›èµ„æºåŠ©æ‰‹ï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨è§£ç­”äººåŠ›èµ„æºç›¸å…³é—®é¢˜</div></div>
                </div>
                <div class="question-list-container" id="guess-section">
                    <div class="question-list-title">â€”â€”â€”â€” çŒœä½ æƒ³é—® â€”â€”â€”â€”</div>
                    <div id="guess-list"></div>
                    <button class="refresh-button" id="refresh-button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 4v6h-6"/><path d="M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L20.5 10a5 5 0 0 0-7.85 6.36L10.5 17"/></svg>
                        <span>æ¢ä¸€æ¢</span>
                    </button>
                </div>`;
            
            guessSection = document.getElementById('guess-section');
            guessList = document.getElementById('guess-list');
            refreshButton = document.getElementById('refresh-button');
            initialWelcome = document.getElementById('initial-welcome');
            refreshButton.addEventListener('click', displayInitialQuestions);
            
            chatInput.value = '';
            autoResize(chatInput);
            displayInitialQuestions();
            scrollToBottom();
        }
        function autoResize(textarea) {
            textarea.style.height = 'auto';
            textarea.style.height = textarea.scrollHeight + 'px';
        }
        chatInput.addEventListener('input', () => autoResize(chatInput));
        
        window.addEventListener('load', () => {
            displayInitialQuestions();
        });
    </script>
</body>
</html>